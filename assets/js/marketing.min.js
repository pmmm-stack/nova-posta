(()=>{"use strict";class t{constructor(t){this.message=t}}async function e(e,n,r){return n.action=e,n._token=wc_ukr_shipping_globals.nonce,await async function(e,n,r){!function(){if(!window.jQuery)throw new t("jQuery not found.")}();const a=window.jQuery;return new Promise((function(t,c){const s=a.ajax({method:"POST",url:e,data:n,dataType:"json",success:function(e){t(e)},error:function(t,e,n){c({jqXHR:t,textStatus:e,errorThrown:n})}});r&&r.cancelSource&&r.cancelSource.setXHR(s)}))}(wc_ukr_shipping_globals.ajaxUrl,n,r||{})}!function(t){let n=!1;t((function(){t("#wcus-qouta").on("change",(function(e){t(e.target).closest(".wcus-subscription").find(".wcus-subscription__price-number").html(e.target.options[e.target.selectedIndex].dataset.price+"$")})),t(".j-wcus-upgrade").on("click",(async function(r){if(r.preventDefault(),r.stopImmediatePropagation(),!n){n=!0,t("#page-wcus-upgrade").addClass("wcus-state-loading");try{const n=await e("wcus_smarty_parcel_upgrade",{subscription:t(this).data("plan")});n.success?location.href=n.redirect:alert(n.error)}catch(t){alert("Internal server error")}finally{n=!1,t("#page-wcus-upgrade").removeClass("wcus-state-loading")}}}))}))}(window.jQuery)})();